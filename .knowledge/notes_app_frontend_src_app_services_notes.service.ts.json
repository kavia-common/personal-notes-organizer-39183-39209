{"is_source_file": true, "format": "TypeScript", "description": "This file defines the NotesService class for managing note objects in an Angular-based notes application. It provides methods for creating, updating, deleting, and retrieving notes, as well as managing local storage persistence and filtering of notes based on user-defined criteria.", "external_files": ["../models/note.model", "./storage.service", "../shared/utils", "./tags.service"], "external_methods": ["StorageService.get", "StorageService.set", "nowIso", "uid"], "published": ["NotesService"], "classes": [{"name": "NotesService", "description": "Service class for managing notes, including CRUD operations, filtering, and persistence."}], "methods": [{"name": "constructor", "description": "Initializes the service, loads notes from storage or seeds demo notes, and ensures tags are loaded."}, {"name": "persist", "description": "Saves current notes to storage."}, {"name": "seedDemo", "description": "Populates the notes list with demo notes."}, {"name": "create", "description": "Creates a new empty note, adds it to the list, and persists."}, {"name": "update", "description": "Updates properties of an existing note identified by id."}, {"name": "delete", "description": "Removes a note by id."}, {"name": "getById", "description": "Retrieves a note by its id."}], "calls": ["this.storage.get", "this.storage.set", "this.tagsSvc.ensure", "this.notes.set", "this.notes.update", "this.notes().flatMap", "this.notes().filter", "this.notes().find"], "search-terms": ["NotesService", "note management", "local storage notes", "filter notes", "Angular service", "note creation and update"], "state": 2, "file_id": 28, "knowledge_revision": 111, "git_revision": "9dd124cd073ad9efe87d066016bcfd8a463e07d8", "revision_history": [{"61": ""}, {"104": ""}, {"111": "9dd124cd073ad9efe87d066016bcfd8a463e07d8"}], "ctags": [{"_type": "tag", "name": "NotesService", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/notes.service.ts", "pattern": "/^export class NotesService {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "demo", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/notes.service.ts", "pattern": "/^    const demo: Note[] = [$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "nb", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/notes.service.ts", "pattern": "/^    const nb = this.filterNotebookId();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "next", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/notes.service.ts", "pattern": "/^        const next: Note = { ...n, ...patch, updatedAt: nowIso() };$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "note", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/notes.service.ts", "pattern": "/^    const note: Note = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/notes.service.ts", "pattern": "/^  notes = signal<Note[]>([]);$/", "language": "TypeScript", "kind": "property", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "now", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/notes.service.ts", "pattern": "/^    const now = nowIso();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "q", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/notes.service.ts", "pattern": "/^    const q = this.query().trim().toLowerCase();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "stored", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/notes.service.ts", "pattern": "/^    const stored = this.storage.get<Note[]>(this.storageKey, null);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "tag", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/notes.service.ts", "pattern": "/^    const tag = this.filterTag();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "updated", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/notes.service.ts", "pattern": "/^    let updated: Note | null = null;$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "updatedAt", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/notes.service.ts", "pattern": "/^        const next: Note = { ...n, ...patch, updatedAt: nowIso() };$/", "language": "TypeScript", "kind": "constant"}], "hash": "9971e4d0cdf387142e8997411fe2d7fe", "format-version": 4, "code-base-name": "notes_app_frontend", "filename": "notes_app_frontend/src/app/services/notes.service.ts", "fields": [{"name": "notes = signal<Note[]>([]);", "scope": "NotesService", "scopeKind": "class", "description": "unavailable"}, {"name": "let updated: Note | null = null;", "scope": "", "scopeKind": "", "description": "unavailable"}]}