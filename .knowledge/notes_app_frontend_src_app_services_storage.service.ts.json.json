{"is_source_file": true, "format": "TypeScript", "description": "This file defines an Angular service called StorageService, which provides an interface for storing, retrieving, and removing JSON-serializable data in localStorage with support for namespace versioning and environment-specific suffixes.", "external_files": ["node_modules/@angular/core/index.d.ts"], "external_methods": ["Injectable({ providedIn: 'root' })"], "published": ["StorageService", "StorageNamespaceConfig", "getWindow", "getLocalStorage"], "classes": [{"name": "StorageService", "description": "An Angular service that wraps localStorage with JSON parsing, namespacing, and optional environment-specific configuration."}], "methods": [{"name": "constructor() { constructor", "description": "Initializes namespace configuration, performs version migration if localStorage is available.", "scope": "StorageService", "scopeKind": "class"}, {"name": "private key(k: string): string { key", "description": "Constructs a namespaced key for storage.", "scope": "StorageService", "scopeKind": "class"}, {"name": "set(k: string, value: Json): void { set", "description": "Stores a JSON-serializable value under a namespaced key.", "scope": "StorageService", "scopeKind": "class"}, {"name": "get<T = Json>(k: string, fallback: T | null = null): T | null { get", "description": "Retrieve a JSON-parsed value from storage with optional fallback.", "scope": "StorageService", "scopeKind": "class"}, {"name": "remove(k: string): void { remove", "description": "Removes a key from storage.", "scope": "StorageService", "scopeKind": "class"}, {"name": "function getLocalStorage(): any | null { getLocalStorage", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function getWindow(): any | null { getWindow", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["getLocalStorage", "ls.setItem", "ls.getItem", "ls.removeItem", "console.error"], "search-terms": ["Angular StorageService", "localStorage namespace", "environment suffix storage", "versioned storage", "JSON localStorage"], "state": 2, "file_id": 25, "knowledge_revision": 109, "git_revision": "", "revision_history": [{"53": ""}, {"101": ""}, {"109": ""}], "ctags": [{"_type": "tag", "name": "DEFAULT_CONFIG", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/storage.service.ts", "pattern": "/^const DEFAULT_CONFIG: StorageNamespaceConfig = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "Json", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/storage.service.ts", "pattern": "/^type Json = any;$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "StorageNamespaceConfig", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/storage.service.ts", "pattern": "/^interface StorageNamespaceConfig {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "StorageService", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/storage.service.ts", "pattern": "/^export class StorageService {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "cfg", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/storage.service.ts", "pattern": "/^  private cfg: StorageNamespaceConfig;$/", "language": "TypeScript", "kind": "property", "scope": "StorageService", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/storage.service.ts", "pattern": "/^  constructor() {$/", "language": "TypeScript", "kind": "method", "scope": "StorageService", "scopeKind": "class"}, {"_type": "tag", "name": "env", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/storage.service.ts", "pattern": "/^    const env = (w && w['NG_APP_NODE_ENV']) || (import.meta as any).env?.NG_APP_NODE_ENV || '';$/", "language": "TypeScript", "kind": "constant", "scope": "StorageService.constructor", "scopeKind": "method"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/storage.service.ts", "pattern": "/^  get<T = Json>(k: string, fallback: T | null = null): T | null {$/", "language": "TypeScript", "kind": "method", "scope": "StorageService", "scopeKind": "class"}, {"_type": "tag", "name": "getLocalStorage", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/storage.service.ts", "pattern": "/^function getLocalStorage(): any | null {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getWindow", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/storage.service.ts", "pattern": "/^function getWindow(): any | null {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "key", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/storage.service.ts", "pattern": "/^  private key(k: string): string {$/", "language": "TypeScript", "kind": "method", "scope": "StorageService", "scopeKind": "class"}, {"_type": "tag", "name": "ls", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/storage.service.ts", "pattern": "/^      const ls = getLocalStorage();$/", "language": "TypeScript", "kind": "constant", "scope": "StorageService.get", "scopeKind": "method"}, {"_type": "tag", "name": "ls", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/storage.service.ts", "pattern": "/^      const ls = getLocalStorage();$/", "language": "TypeScript", "kind": "constant", "scope": "StorageService.remove", "scopeKind": "method"}, {"_type": "tag", "name": "ls", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/storage.service.ts", "pattern": "/^      const ls = getLocalStorage();$/", "language": "TypeScript", "kind": "constant", "scope": "StorageService.set", "scopeKind": "method"}, {"_type": "tag", "name": "ls", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/storage.service.ts", "pattern": "/^    const ls = getLocalStorage();$/", "language": "TypeScript", "kind": "constant", "scope": "StorageService.constructor", "scopeKind": "method"}, {"_type": "tag", "name": "namespace", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/storage.service.ts", "pattern": "/^  namespace: string;$/", "language": "TypeScript", "kind": "property", "scope": "StorageNamespaceConfig", "scopeKind": "interface"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/storage.service.ts", "pattern": "/^      const raw = ls.getItem(this.key(k));$/", "language": "TypeScript", "kind": "constant", "scope": "StorageService.get", "scopeKind": "method"}, {"_type": "tag", "name": "remove", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/storage.service.ts", "pattern": "/^  remove(k: string): void {$/", "language": "TypeScript", "kind": "method", "scope": "StorageService", "scopeKind": "class"}, {"_type": "tag", "name": "set", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/storage.service.ts", "pattern": "/^  set(k: string, value: Json): void {$/", "language": "TypeScript", "kind": "method", "scope": "StorageService", "scopeKind": "class"}, {"_type": "tag", "name": "storedVersion", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/storage.service.ts", "pattern": "/^      const storedVersion = this.get(versionKey);$/", "language": "TypeScript", "kind": "constant", "scope": "StorageService.constructor", "scopeKind": "method"}, {"_type": "tag", "name": "suffix", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/storage.service.ts", "pattern": "/^    const suffix = env ? `:${env}` : '';$/", "language": "TypeScript", "kind": "constant", "scope": "StorageService.constructor", "scopeKind": "method"}, {"_type": "tag", "name": "version", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/storage.service.ts", "pattern": "/^  version: number;$/", "language": "TypeScript", "kind": "property", "scope": "StorageNamespaceConfig", "scopeKind": "interface"}, {"_type": "tag", "name": "versionKey", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/storage.service.ts", "pattern": "/^      const versionKey = this.key('__version');$/", "language": "TypeScript", "kind": "constant", "scope": "StorageService.constructor", "scopeKind": "method"}, {"_type": "tag", "name": "w", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/storage.service.ts", "pattern": "/^    const w = getWindow() as any;$/", "language": "TypeScript", "kind": "constant", "scope": "StorageService.constructor", "scopeKind": "method"}, {"_type": "tag", "name": "w", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-39183-39209/notes_app_frontend/src/app/services/storage.service.ts", "pattern": "/^  const w = getWindow();$/", "language": "TypeScript", "kind": "constant", "scope": "getLocalStorage", "scopeKind": "function"}], "hash": "54f08168f526634ee10c68731f48a08b", "format-version": 4, "code-base-name": "notes_app_frontend", "filename": "notes_app_frontend/src/app/services/storage.service.ts", "fields": [{"name": "interface StorageNamespaceConfig {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "private cfg: StorageNamespaceConfig;", "scope": "StorageService", "scopeKind": "class", "description": "unavailable"}, {"name": "namespace: string;", "scope": "StorageNamespaceConfig", "scopeKind": "interface", "description": "unavailable"}, {"name": "version: number;", "scope": "StorageNamespaceConfig", "scopeKind": "interface", "description": "unavailable"}]}